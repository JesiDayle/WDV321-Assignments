<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WDV321 Advanced JavaScript</title>
    <style>
        #container {
            background-color: blanchedalmond;
            width: 70%;
            margin-left: auto;
            margin-right: auto;
            padding: 5px;
        }

        section {
            display: flex;
            justify-content: center;
        }

        .leftSide,
        .rightSide {
            border: thin solid brown;
            width: 50%;
            padding-left: 15px;
        }
    </style>
    <script>

        const teamNames = ["Chiefs", "Raiders", "Cubs"];
        const cookies = ["Chocolate Chip Cookie", "Sugar Cookie", "Peanut Butter Cookie"];
        const candies = ["M&Ms", "Baby Ruth", "Snickers"];

    </script>
</head>

<body>
    <div id="container">
        <header>

        </header>
        <main>
            <h1>WDV321 Advanced JavaScript</h1>
            <h2>Dynamic Content - Drop Down Lists</h2>
            <p>The goals of this assignment:
            <ol>
                <li>Demonstrate how to dynamically populate a select element using the document.write() technique</li>
                <li>Demonstrate how to dynamically populate a select element using the createElement() technique</li>
                <li>Demonstrate how to dynamically add an option to a select element</li>
                <li>Demonstrate how to dynamically change the options of a select element</li>
            </ol>
            </p>

            <section>
                <div class="leftSide">
                    <h3>Team Names</h3>
                    <div>
                        <label for="teamNames">Team Names</label>
                        <select name="teamNames" id="teamNames">
                            <option value="">Select a team</option>
                            <script>
                                for (let i = 0; i < teamNames.length; i++) {
                                    document.write('<option value="' + teamNames[i] + '">' + teamNames[i] + '</option>');
                                }
                            </script>
                        </select>
                        <p>Team Name: <span id="outputName"></span></p>
                    </div>
                    <div>
                        <form id="teamForm" method="post" action="#">
                            <label for="newTeamName">New Team Name: </label>
                            <input type="text" name="newTeamName" id="newTeamName" />
                            <p>
                                <button type="submit" id="addTeamBtn">Add Team Name</button>
                                <button type="reset" id="resetTeamBtn">Reset</button>
                            </p>
                        </form>

                    </div>
                    <div>
                        <h4>Instructions:</h4>
                        <ol>
                            <li>Use document.write() and the teamNames array to populate the teamNames select element.
                            </li>
                            <li>When a team is selected display the selected name next to 'Team Name:'' on the page.
                            </li>
                            <li>When the Add Team Name button is clicked add the name entered in the textfield to the
                                teamNames select element.</li>
                            <li>The reset button should reset the fields to their original values.</li>
                        </ol>
                    </div>
                </div>
                <div class="rightSide">
                    <h3>Cookies or Candy?</h3>
                    <div>
                        <label for="productDisplay">Products: </label>
                        <select name="productDisplay" id="productDisplay">
                            <option value="none">Select a Product</option>
                        </select>
                        <p>Selected Product: <span id="outputProduct"></span></p>
                    </div>

                    <form id="productForm">
                        <p>
                            <label for="displayCookies">Cookies: </label>
                            <input type="radio" name="chooseProduct" id="displayCookies" value="cookies" checked />
                            <br>
                            <label for="displayCandy">Candy: </label>
                            <input type="radio" name="chooseProduct" id="displayCandy" value="candies" />
                        </p>
                        <p>
                            <input type="reset" value="Reset Products">
                        </p>
                    </form>
                    <div>
                        <h4>Instructions:</h4>
                        <ol>
                            <li>Use the createElement() technique and the cookies array to populate the productDisplay
                                select element.</li>
                            <li>When a product is selected, display the selected name next to 'Selected Product:' on the
                                page.</li>
                            <li>Change the contents of the productDisplay based on which radio button is selected.</li>
                            <li>The reset button should reset the fields to their original values.</li>
                        </ol>
                    </div>
                </div>
    </div>
    </section>
    </main>

    <script>
        const originalTeamArray = teamNames.slice();
        const originalCookies = cookies.slice();
        const originalCandies = candies.slice();

        const teamSelect = document.getElementById("teamNames");
        const outputName = document.getElementById("outputName");
        const teamForm = document.getElementById("teamForm");
        const newTeamInput = document.getElementById("newTeamName");

        const productSelect = document.getElementById("productDisplay");
        const outputProduct = document.getElementById("outputProduct");
        const cookieRadio = document.getElementById("displayCookies");
        const candyRadio = document.getElementById("displayCandy");
        const productForm = document.getElementById("productForm");

        teamSelect.addEventListener("change", function () {
            outputName.textContent = this.value;
        });

        teamForm.addEventListener("submit", function (e) {
            e.preventDefault();
            const newName = newTeamInput.value.trim();
            if (!newName) return;
            const opt = document.createElement("option");
            opt.value = newName;
            opt.textContent = newName;
            teamSelect.appendChild(opt);
            teamSelect.value = newName;
            outputName.textContent = newName;
            newTeamInput.value = "";
        });

        teamForm.addEventListener("reset", function () {
            setTimeout(function () {
                teamSelect.innerHTML = '<option value="">Select a team</option>';
                originalTeamArray.forEach(item => {
                    const opt = document.createElement("option");
                    opt.value = item;
                    opt.textContent = item;
                    teamSelect.appendChild(opt);
                });
                teamSelect.selectedIndex = 0;
                outputName.textContent = "";
            }, 0);
        });

        function populateProducts(list) {
            productSelect.innerHTML = '<option value="none">Select a Product</option>';
            list.forEach(item => {
                const opt = document.createElement("option");
                opt.value = item;
                opt.textContent = item;
                productSelect.appendChild(opt);
            });
            outputProduct.textContent = "";
            productSelect.selectedIndex = 0;
        }

        productSelect.addEventListener("change", function () {
            outputProduct.textContent = (this.value && this.value !== "none") ? this.value : "";
        });

        cookieRadio.addEventListener("change", function () {
            if (cookieRadio.checked) populateProducts(originalCookies);
        });
        candyRadio.addEventListener("change", function () {
            if (candyRadio.checked) populateProducts(originalCandies);
        });

        productForm.addEventListener("reset", function () {
            setTimeout(function () {
                cookieRadio.checked = true;
                candyRadio.checked = false;
                populateProducts(originalCookies);
            }, 0);
        });

        cookieRadio.checked = true;
        populateProducts(originalCookies);
    </script>
</body>

</html>